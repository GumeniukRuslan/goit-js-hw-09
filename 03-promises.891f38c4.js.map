{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,SAC9BC,EAAWH,EAAKE,cAAc,kBAC9BE,EAAUJ,EAAKE,cAAc,iBAC7BG,EAAmBL,EAAKE,cAAc,mBAqB5C,SAASI,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,WACLH,EACFF,EAAQ,CAAEH,WAAUC,UAEpBG,EAAO,CAAEJ,WAAUC,S,GAEtBA,E,IAIL,SAASQ,EAAUC,GACjBC,EAAApB,GAASqB,OAAOC,QAAQ,uBAA+CC,OAAtBJ,EAAOV,SAAS,QAAmBc,OAAbJ,EAAOT,MAAM,M,CAEtF,SAASc,EAAQC,GACfL,EAAApB,GAASqB,OAAOI,QAAQ,sBAA6CF,OAAvBE,EAAQhB,SAAS,QAAoBc,OAAdE,EAAQf,MAAM,M,CAnCrFR,EAAKwB,iBAAiB,UAEtB,SAAoBC,GAClBA,EAAIC,iBAIN,SAA0BC,EAAQnB,EAAOoB,GAClCD,GACHT,EAAApB,GAAS+B,OAAON,QAAQ,kCAAmC,GAAI,UAGjE,IADA,IAAIO,EAAWtB,EACNuB,EAAI,EAAGA,GAAKJ,EAAQI,IAC3BzB,EAAcyB,EAAGD,GAAUE,KAAKhB,EAAWM,GAC3CQ,GAAYF,C,CAVdK,CAAiBC,SAAS7B,EAAiB8B,OAAQD,SAAS/B,EAASgC,OAAQD,SAAS9B,EAAQ+B,O","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\nconst firstDel = form.querySelector('[name=\"delay\"]')\nconst stepDel = form.querySelector('[name=\"step\"]')\nconst amountOfPromises = form.querySelector('[name=\"amount\"]')\n\n\nform.addEventListener('submit', submitForm)\n\nfunction submitForm(evt) {\n  evt.preventDefault();\n  uprisingPromises(parseInt(amountOfPromises.value), parseInt(firstDel.value), parseInt(stepDel.value))\n}\n\nfunction uprisingPromises(amount, delay, step) {\n  if (!amount) {\n    Notiflix.Report.failure('Amount cannot be lesser than 1!', '', 'Sorry!')\n  }\n  let nxtDelay = delay\n  for (let i = 1; i <= amount; i++) {\n    createPromise(i, nxtDelay).then(onSuccess, onError);\n    nxtDelay += step;\n  }\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay })\n      } else {\n        reject({ position, delay })\n    }\n  }, delay)\n  })\n};\n\nfunction onSuccess(result) {\n  Notiflix.Notify.success(`✅ Fulfilled promise ${result.position} in ${result.delay}ms`)\n};\nfunction onError(failure) {\n  Notiflix.Notify.failure(`❌ Rejected promise ${failure.position} in ${failure.delay}ms`)\n};\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$firstDel","$ce04d3a99e08e73b$var$stepDel","$ce04d3a99e08e73b$var$amountOfPromises","$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","$ce04d3a99e08e73b$var$onSuccess","result","$parcel$interopDefault","Notify","success","concat","$ce04d3a99e08e73b$var$onError","failure","addEventListener","evt","preventDefault","amount","step","Report","nxtDelay","i","then","$ce04d3a99e08e73b$var$uprisingPromises","parseInt","value"],"version":3,"file":"03-promises.891f38c4.js.map"}
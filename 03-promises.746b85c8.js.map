{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAC9BC,EAAWH,EAAKE,cAAc,kBAC9BE,EAAUJ,EAAKE,cAAc,iBAC7BG,EAAmBL,EAAKE,cAAc,mBAqB5C,SAASI,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,KACLH,EACFF,EAAQ,C,SAAEH,E,MAAUC,IAEpBG,EAAO,C,SAAEJ,E,MAAUC,GAAQ,GAE9BA,EAAM,G,CAIX,SAASQ,EAAUC,GACjBC,EAAApB,GAASqB,OAAOC,QAAQ,uBAAqBH,EAAIV,eAAoBU,EAAET,U,CAEzE,SAASa,EAAQC,GACfJ,EAAApB,GAASqB,OAAOG,QAAQ,sBAAoBA,EAAEf,eAAqBe,EAAEd,U,CAnCvER,EAAKuB,iBAAiB,UAEtB,SAAoBC,GAClBA,EAAIC,iBAIN,SAA0BC,EAAQlB,EAAOmB,GAClCD,GACHR,EAAApB,GAAS8B,OAAON,QAAQ,kCAAmC,GAAI,UAEjE,IAAIO,EAAWrB,EACf,IAAK,IAAIsB,EAAI,EAAGA,GAAKJ,EAAQI,IAC3BxB,EAAcwB,EAAGD,GAAUE,KAAKf,EAAWK,GAC3CQ,GAAYF,C,CAVdK,CAAiBC,SAAS5B,EAAiB6B,OAAQD,SAAS9B,EAAS+B,OAAQD,SAAS7B,EAAQ8B,O","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\nconst firstDel = form.querySelector('[name=\"delay\"]')\nconst stepDel = form.querySelector('[name=\"step\"]')\nconst amountOfPromises = form.querySelector('[name=\"amount\"]')\n\n\nform.addEventListener('submit', submitForm)\n\nfunction submitForm(evt) {\n  evt.preventDefault();\n  uprisingPromises(parseInt(amountOfPromises.value), parseInt(firstDel.value), parseInt(stepDel.value))\n}\n\nfunction uprisingPromises(amount, delay, step) {\n  if (!amount) {\n    Notiflix.Report.failure('Amount cannot be lesser than 1!', '', 'Sorry!')\n  }\n  let nxtDelay = delay\n  for (let i = 1; i <= amount; i++) {\n    createPromise(i, nxtDelay).then(onSuccess, onError);\n    nxtDelay += step;\n  }\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay })\n      } else {\n        reject({ position, delay })\n    }\n  }, delay)\n  })\n};\n\nfunction onSuccess(result) {\n  Notiflix.Notify.success(`✅ Fulfilled promise ${result.position} in ${result.delay}ms`)\n};\nfunction onError(failure) {\n  Notiflix.Notify.failure(`❌ Rejected promise ${failure.position} in ${failure.delay}ms`)\n};\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$firstDel","$47d4ff9957288465$var$stepDel","$47d4ff9957288465$var$amountOfPromises","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","$47d4ff9957288465$var$onSuccess","result","$parcel$interopDefault","Notify","success","$47d4ff9957288465$var$onError","failure","addEventListener","evt","preventDefault","amount","step","Report","nxtDelay","i","then","$47d4ff9957288465$var$uprisingPromises","parseInt","value"],"version":3,"file":"03-promises.746b85c8.js.map"}